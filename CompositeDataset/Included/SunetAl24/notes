the process here is syntactically wrong and semantically accordingly not fully interpretable. Process was adjusted such that it is syntactically correct, hopefully without changing the semantics. It still does not make sense that anyone would implement it like this but it was a tradeoff between good implementation and staying closer to the source
